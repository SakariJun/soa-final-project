<a
  class="download"
  href="https://storage.googleapis.com/tat-business.appspot.com/tasks/637504e3e1570da7d479c997/requirements.txt?Expires=1668779897&GoogleAccessId=firebase-adminsdk-d4cif%40tat-business.iam.gserviceaccount.com&Signature=iLm0VEMxrCEbw0ctKbchv6LTb%2BbQEEjqLCZ9Xaye%2F0i%2FA1vp5gtTtXwq1TTIbsu%2BW3J87QB88VN8EX38fDdlCSGsAYLmRiE6Nev0SYPdK2rHSsFbRFe2dKC23KNy1mpzXe1X5Z89QIzae6ikbDvoUNuX7ekfa%2F5%2FgH41R9Syezg%2FzH4w32EMzWlfAz9ADrhEWAo04iDB09WgHRHKAQwxfOsefZW0ElNHBcLe5ToEBSQ3ezlBaAzgL7c%2FsptCHAsU7A7mCO3P9spWJFmAbA5ccGJN5uNvuZUywELIdzXg4z7L4Lz%2Bf7kYfHXWY%2F5t%2Bs8YdBFEplkHGq1ubU8XirNKaA%3D%3D"
  >Download</a
>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
  // Click to download file
  $(document).on("click", ".download", function (e) {
    e.preventDefault();
    if ($(this).attr("href") != undefined) {
      //Download file
      let url = $(this).attr("href");
      console.log(url);
      var link = document.createElement("a");

      let headers = new Headers();
      headers.append("Access-Control-Allow-Origin", "*");
      headers.append("Origin", "*");

      fetch(url).then((res) => res.blob())
        .then((blob) => {
          link.href = window.URL.createObjectURL(blob);
          if (url.indexOf("?") > 0) {
            link.download = url.substring(
              url.lastIndexOf("/") + 1,
              url.indexOf("?")
            );
          } else {
            link.download = url.substring(url.lastIndexOf("/") + 1);
          }

          link.click();
        });
      // Má»Ÿ file
      // window.location.href = $(this).attr("href");
    }
  });
</script>
