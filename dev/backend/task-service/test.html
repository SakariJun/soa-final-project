<a
  class="download"
  href="https://storage.googleapis.com/tat-business.appspot.com/tasks/637504e3e1570da7d479c997/requirements.txt?Expires=1668729426&GoogleAccessId=firebase-adminsdk-d4cif%40tat-business.iam.gserviceaccount.com&Signature=PLEghpr%2BQxa7LLNsq7TUak5GvHZqZ9hhpE4K5WJjJ6mz1NVoztpOvhOsHwc5t9Uhk8yMCS6xQXtiDkFOLdTmq4E%2FNtvGF27c5UmGeh3klO4eG8ftSn7upy8ouqOoLYytIZxNwQUsklQaYBzis1GUzsuT99DVDhmjVzzOk4y3QgpeD6U27Qulx79XLHdzr7OG5dN0%2FX6rAYL%2BX%2BJ%2FA%2FFrGX7csro4TVzSKO8ie%2BDIZG%2Bbhjz7V8YZ66rJUNI9R8LprrFnrfqcvm8cGYkmI2cFOmy0m0qlFFYuVPqBV8cHkdN6i0k2kYM%2FUyMaE7uyDvDOkhPwQPxxteLNGfz1FGf43Q%3D%3D"
  >Download</a
>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
  // Click to download file
  $(document).on("click", ".download", function (e) {
    e.preventDefault();
    if ($(this).attr("href") != undefined) {
      //Download file
      let url = $(this).attr("href");
      console.log(url);
      var link = document.createElement("a");

      let headers = new Headers();
      headers.append("Access-Control-Allow-Origin", "*");
      headers.append("Origin", "*");

      fetch(url).then((res) => {
        console.log(res);
        return res.blob();
      });
      /*
        .then((blob) => {
          link.href = window.URL.createObjectURL(blob);
          if (url.indexOf("?") > 0) {
            link.download = url.substring(
              url.lastIndexOf("/") + 1,
              url.indexOf("?") > 0
            );
          } else {
            link.download = url.substring(url.lastIndexOf("/") + 1);
          }

          link.click();
        });
*/
      // Má»Ÿ file
      // window.location.href = $(this).attr("href");
    }
  });
</script>
